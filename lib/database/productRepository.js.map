{"version":3,"file":"productRepository.js","names":["_fs","_interopRequireDefault","require","_writeToFile","obj","__esModule","default","products","getAll","limit","sort","a","b","Date","createdAt","slice","parseInt","length","getOne","id","find","product","create","data","updatedProducts","writeToFile","update","index","findIndex","remove","splice"],"sources":["../../src/database/productRepository.js"],"sourcesContent":["import fs from \"fs\";\r\nimport writeToFile from \"../helpers/writeToFile\";\r\nconst products = require(\"./products.json\");\r\n\r\nexport function getAll(limit, sort) {\r\n  return products\r\n    .sort((a, b) => {\r\n      if (sort === \"desc\") return new Date(b.createdAt) - new Date(a.createdAt);\r\n      else if (sort === \"asc\")\r\n        return new Date(a.createdAt) - new Date(b.createdAt);\r\n    })\r\n    .slice(0, parseInt(limit) || products.length);\r\n}\r\n\r\nexport function getOne(id) {\r\n  return products.find((product) => product.id === id);\r\n}\r\n\r\nexport function create(data) {\r\n  const updatedProducts = [data, ...products];\r\n  writeToFile(updatedProducts);\r\n}\r\n\r\nexport function update(data) {\r\n  const index = products.findIndex((product) => product.id === data.id);\r\n  if (index !== -1) {\r\n    products[index] = data;\r\n    writeToFile(products);\r\n  }\r\n}\r\n\r\nexport function remove(id) {\r\n  const index = products.findIndex((product) => product.id === id);\r\n  if (index !== -1) {\r\n    products.splice(index, 1);\r\n    writeToFile(products);\r\n  }\r\n}\r\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,GAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAiD,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AACjD,MAAMG,QAAQ,GAAGL,OAAO,CAAC,iBAAiB,CAAC;AAEpC,SAASM,MAAMA,CAACC,KAAK,EAAEC,IAAI,EAAE;EAClC,OAAOH,QAAQ,CACZG,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;IACd,IAAIF,IAAI,KAAK,MAAM,EAAE,OAAO,IAAIG,IAAI,CAACD,CAAC,CAACE,SAAS,CAAC,GAAG,IAAID,IAAI,CAACF,CAAC,CAACG,SAAS,CAAC,CAAC,KACrE,IAAIJ,IAAI,KAAK,KAAK,EACrB,OAAO,IAAIG,IAAI,CAACF,CAAC,CAACG,SAAS,CAAC,GAAG,IAAID,IAAI,CAACD,CAAC,CAACE,SAAS,CAAC;EACxD,CAAC,CAAC,CACDC,KAAK,CAAC,CAAC,EAAEC,QAAQ,CAACP,KAAK,CAAC,IAAIF,QAAQ,CAACU,MAAM,CAAC;AACjD;AAEO,SAASC,MAAMA,CAACC,EAAE,EAAE;EACzB,OAAOZ,QAAQ,CAACa,IAAI,CAAEC,OAAO,IAAKA,OAAO,CAACF,EAAE,KAAKA,EAAE,CAAC;AACtD;AAEO,SAASG,MAAMA,CAACC,IAAI,EAAE;EAC3B,MAAMC,eAAe,GAAG,CAACD,IAAI,EAAE,GAAGhB,QAAQ,CAAC;EAC3C,IAAAkB,oBAAW,EAACD,eAAe,CAAC;AAC9B;AAEO,SAASE,MAAMA,CAACH,IAAI,EAAE;EAC3B,MAAMI,KAAK,GAAGpB,QAAQ,CAACqB,SAAS,CAAEP,OAAO,IAAKA,OAAO,CAACF,EAAE,KAAKI,IAAI,CAACJ,EAAE,CAAC;EACrE,IAAIQ,KAAK,KAAK,CAAC,CAAC,EAAE;IAChBpB,QAAQ,CAACoB,KAAK,CAAC,GAAGJ,IAAI;IACtB,IAAAE,oBAAW,EAAClB,QAAQ,CAAC;EACvB;AACF;AAEO,SAASsB,MAAMA,CAACV,EAAE,EAAE;EACzB,MAAMQ,KAAK,GAAGpB,QAAQ,CAACqB,SAAS,CAAEP,OAAO,IAAKA,OAAO,CAACF,EAAE,KAAKA,EAAE,CAAC;EAChE,IAAIQ,KAAK,KAAK,CAAC,CAAC,EAAE;IAChBpB,QAAQ,CAACuB,MAAM,CAACH,KAAK,EAAE,CAAC,CAAC;IACzB,IAAAF,oBAAW,EAAClB,QAAQ,CAAC;EACvB;AACF"}