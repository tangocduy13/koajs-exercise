{"version":3,"file":"productRepository.js","names":["_fs","_interopRequireDefault","require","obj","__esModule","default","products","getAll","getOne","id","find","product","create","data","updatedProducts","fs","writeFileSync","JSON","stringify","update","index","findIndex","remove","console","log","splice"],"sources":["../../src/database/productRepository.js"],"sourcesContent":["import fs from \"fs\";\r\nconst products = require(\"./products.json\");\r\n\r\nexport function getAll() {\r\n  return products;\r\n}\r\n\r\nexport function getOne(id) {\r\n  return products.find((product) => product.id === id);\r\n}\r\n\r\nexport function create(data) {\r\n  const updatedProducts = [data, ...products];\r\n  return fs.writeFileSync(\r\n    \"./src/database/products.json\",\r\n    JSON.stringify(updatedProducts)\r\n  );\r\n}\r\n\r\nexport function update(data) {\r\n  const index = products.findIndex((product) => product.id === data.id);\r\n  if (index !== -1) {\r\n    products[index] = data;\r\n    return fs.writeFileSync(\r\n      \"./src/database/products.json\",\r\n      JSON.stringify(products)\r\n    );\r\n  }\r\n}\r\n\r\nexport function remove(id) {\r\n  const index = products.findIndex((product) => product.id === id);\r\n  console.log(index);\r\n  if (index !== -1) {\r\n    products.splice(index, 1);\r\n    console.log(products);\r\n    return fs.writeFileSync(\r\n      \"./src/database/products.json\",\r\n      JSON.stringify(products)\r\n    );\r\n  }\r\n}\r\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,GAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAoB,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AACpB,MAAMG,QAAQ,GAAGJ,OAAO,CAAC,iBAAiB,CAAC;AAEpC,SAASK,MAAMA,CAAA,EAAG;EACvB,OAAOD,QAAQ;AACjB;AAEO,SAASE,MAAMA,CAACC,EAAE,EAAE;EACzB,OAAOH,QAAQ,CAACI,IAAI,CAAEC,OAAO,IAAKA,OAAO,CAACF,EAAE,KAAKA,EAAE,CAAC;AACtD;AAEO,SAASG,MAAMA,CAACC,IAAI,EAAE;EAC3B,MAAMC,eAAe,GAAG,CAACD,IAAI,EAAE,GAAGP,QAAQ,CAAC;EAC3C,OAAOS,WAAE,CAACC,aAAa,CACrB,8BAA8B,EAC9BC,IAAI,CAACC,SAAS,CAACJ,eAAe,CAChC,CAAC;AACH;AAEO,SAASK,MAAMA,CAACN,IAAI,EAAE;EAC3B,MAAMO,KAAK,GAAGd,QAAQ,CAACe,SAAS,CAAEV,OAAO,IAAKA,OAAO,CAACF,EAAE,KAAKI,IAAI,CAACJ,EAAE,CAAC;EACrE,IAAIW,KAAK,KAAK,CAAC,CAAC,EAAE;IAChBd,QAAQ,CAACc,KAAK,CAAC,GAAGP,IAAI;IACtB,OAAOE,WAAE,CAACC,aAAa,CACrB,8BAA8B,EAC9BC,IAAI,CAACC,SAAS,CAACZ,QAAQ,CACzB,CAAC;EACH;AACF;AAEO,SAASgB,MAAMA,CAACb,EAAE,EAAE;EACzB,MAAMW,KAAK,GAAGd,QAAQ,CAACe,SAAS,CAAEV,OAAO,IAAKA,OAAO,CAACF,EAAE,KAAKA,EAAE,CAAC;EAChEc,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;EAClB,IAAIA,KAAK,KAAK,CAAC,CAAC,EAAE;IAChBd,QAAQ,CAACmB,MAAM,CAACL,KAAK,EAAE,CAAC,CAAC;IACzBG,OAAO,CAACC,GAAG,CAAClB,QAAQ,CAAC;IACrB,OAAOS,WAAE,CAACC,aAAa,CACrB,8BAA8B,EAC9BC,IAAI,CAACC,SAAS,CAACZ,QAAQ,CACzB,CAAC;EACH;AACF"}